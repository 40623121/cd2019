<!doctype html>
<html><head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>CD2019</title> <link rel="stylesheet" type="text/css" href="./../static/cmsimply.css">
<script src="tipuesearch_content.js"></script>
<script src="./../static/jquery.js"></script>
<link rel="stylesheet" href="./../static/tipuesearch/css/tipuesearch.css">
<script src="./../static/tipuesearch/tipuesearch_set.js"></script>
<script src="./../static/tipuesearch/tipuesearch.min.js"></script>

<script type="text/javascript" src="./../static/syntaxhighlighter/shCore.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushJScript.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushJava.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushPython.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushSql.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushXml.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushPhp.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushLua.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushCpp.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushCss.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushCSharp.js"></script>
<link type="text/css" rel="stylesheet" href="./../static/syntaxhighlighter/css/shCoreDefault.css"/>
<script type="text/javascript">SyntaxHighlighter.all();</script>

<!-- for LaTeX equations 暫時不用
<script src="https://scrum-3.github.io/web/math/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript"></script>
<script type="text/javascript">
init_mathjax = function() {
    if (window.MathJax) {
        // MathJax loaded
        MathJax.Hub.Config({
            tex2jax: {
                inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
            },
            displayAlign: 'left', // Change this to 'center' to center equations.
            "HTML-CSS": {
                styles: {'.MathJax_Display': {"margin": 0}}
            }
        });
        MathJax.Hub.Queue(["Typeset",MathJax.Hub]);
    }
}
init_mathjax();
</script>
-->
<!-- 暫時不用
<script src="./../static/fengari-web.js"></script>
<script type="text/javascript" src="./../static/Cango-13v08-min.js"></script>
<script type="text/javascript" src="./../static/CangoAxes-4v01-min.js"></script>
<script type="text/javascript" src="./../static/gearUtils-05.js"></script>
-->
<!-- for Brython 暫時不用
<script src="https://scrum-3.github.io/web/brython/brython.js"></script>
<script src="https://scrum-3.github.io/web/brython/brython_stdlib.js"></script>
-->
<style>
img.with_border {
    border: 3px solid red;
}
</style>

<script type="text/javascript">
/*shorthand of $(document).ready(function(){};); */
$(function(){
    $("ul.topmenu> li:has(ul) > a").append('<div class="arrow-right"></div>');
    $("ul.topmenu > li ul li:has(ul) > a").append('<div class="arrow-right"></div>');
});
function doSearch() {
     $('#tipue_search_input').tipuesearch({
        newWindow: true, minimumLength: 2
     });
}
$(document).ready(doSearch);
</script>

</head><header><h1>2019 Spring 協同產品設計實習</h1> <confmenu>
<ul>
<li><a href="index.html">Home</a></li>
<li><a href="sitemap.html">Site Map</a></li>
<li><a href="./../reveal/index.html">reveal</a></li>
<li><a href="./../blog/index.html">blog</a></li>

</ul>
</confmenu></header>
<div class='container'><nav><ul id='css3menu1' class='topmenu'><div class="tipue_search_group"><input style="width: 6vw;" type="text" name="q" id="tipue_search_input" pattern=".{2,}" title="Press enter key to search" required></div><li><a href='Introduction.html'>Introduction</a><li><a href='實習任務.html'>實習任務</a><ul><li><a href='實習任務一.html'>實習任務一</a><ul><li><a href='建立可攜程式系統.html'>建立可攜程式系統</a><li><a href='第一週分組程式.html'>第一週分組程式</a></li></ul><li><a href='實習任務二.html'>實習任務二</a><li><a href='實習任務三.html'>實習任務三</a><li><a href='實習任務四.html'>實習任務四</a><li><a href='實習任務五.html'>實習任務五</a><li><a href='實習任務六.html'>實習任務六</a></li></ul><li><a href='協同設計.html'>協同設計</a><li><a href='Onshape.html'>Onshape</a><ul><li><a href='BOMs.html'>BOMs</a></li></ul><li><a href='V-rep.html'>V-rep</a><ul><li><a href='V-rep Tutorial.html'>V-rep Tutorial</a><li><a href='Get started.html'>Get started</a><li><a href='V-rep Introduction.html'>V-rep Introduction</a></li></ul><li><a href='CAX.html'>CAX</a><ul><li><a href='Solvespace.html'>Solvespace</a><li><a href='FreeCAD.html'>FreeCAD</a><li><a href='PythonOCC.html'>PythonOCC</a><li><a href='Math.html'>Math</a><li><a href='Range Software.html'>Range Software</a><ul><li><a href='Range Model.html'>Range Model</a><li><a href='Range Problem.html'>Range Problem</a><li><a href='Range Problem Type.html'>Range Problem Type</a><li><a href='Range Boundary Condition.html'>Range Boundary Condition</a><li><a href='Range Initial Condition.html'>Range Initial Condition</a><li><a href='Range Environment Condition.html'>Range Environment Condition</a><li><a href='Range Material.html'>Range Material</a><li><a href='Range Solver.html'>Range Solver</a><li><a href='Range Result.html'>Range Result</a></li></ul><li><a href='FreeFem++.html'>FreeFem++</a><li><a href='FEniCS.html'>FEniCS</a></li></ul><li><a href='參考資料.html'>參考資料</a><ul><li><a href='Pygrouf.html'>Pygrouf</a><li><a href='AI.html'>AI</a></li></ul></nav><section><div id="tipue_search_content">Get started << <a href='Get started.html'>Previous</a> <a href='CAX.html'>Next</a> >> CAX<br /><h1>V-rep Introduction</h1>
<p>source: <a href="http://hades.mech.northwestern.edu/index.php/V-REP_Introduction">http://hades.mech.northwestern.edu/index.php/V-REP_Introduction</a> </p>
<p><img alt="" height="250" src="./../images/398px-V-rep-sim.jpg" width="398"/></p>
<p><b>Note: V-REP is computationally intensive. To minimize power usage, make sure to "pause" or "stop" a simulation when you are not using it.</b></p>
<p>On<span> </span><a class="external text" href="http://www.coppeliarobotics.com/index.html" rel="nofollow">V-REP's homepage</a><span> </span>the program is described as</p>
<pre>  ...the Swiss army knife among robot simulators: you won't find a simulator with more functions, features, or more elaborate APIs.
</pre>
<p>V-REP's strength comes from several features:</p>
<ol>
<li>V-REP provides a unified framework combining many powerful internal and external libraries that are often useful for robotics simulations. This includes dynamic simulation engines, forward/inverse kinematics tools, collision detection libraries, vision sensor simulations, path planning, GUI development tools, and built-in models of many common robots.</li>
<li>V-REP is highly extensible. V-REP developers provide an API that allows one to write custom plugins that add new features. You can embed<span> </span><a class="external text" href="https://en.wikipedia.org/wiki/Lua_(programming_language)" rel="nofollow">Lua</a><span> </span>scripts directly into a simulation scene that, for example, process simulated sensor data, run control algorithms, implement user interfaces, or even send data to a physical robot. They also provide a remote API that allows one to develop standalone applications in many programming languages that are able to pass data in and out of a running V-REP simulation.</li>
<li>V-REP is cross-platform, mostly open-source, and provides a free educational license.</li>
</ol>
<p>The purpose of this page is not to teach you how to use V-REP. Rather it is to describe demonstration scenes that have been developed to support learning from the book<span> </span><b><a href="http://hades.mech.northwestern.edu/index.php/Modern_Robotics" title="Modern Robotics">Modern Robotics</a></b>. If you are interested to learn more about V-REP, check out the<span> </span><a href="http://hades.mech.northwestern.edu/index.php/V-REP_Introduction#Useful_Resources">Useful Resources</a><span> </span>section below.</p>
<h4><span class="mw-headline" id="Demonstration_V-REP_Scenes">Demonstration V-REP Scenes</span></h4>
<p><a class="internal" href="http://hades.mech.northwestern.edu./../images/5/5c/V-REP_scenes.zip" title="V-REP scenes.zip"><b>DOWNLOAD ALL DEMONSTRATION V-REP SCENES AND INPUT FILES DESCRIBED BELOW.</b></a></p>
<p>To run any of the scenes below, the first step will be to<span> </span><a class="external text" href="http://www.coppeliarobotics.com/downloads.html" rel="nofollow">download V-REP</a><span> </span>for your operating system. You should download the latest non-limited EDUCATIONAL version. Next you will have to install V-REP. On Windows, you simply have an EXE that installs V-REP. On a Mac, you first need to unzip the download. The directory that is produced by unzipping the download contains a<span> </span><code>vrep.app</code><span> </span>directory that should allow you start V-REP through normal mechanisms, e.g., Finder/Spotlight/Launchpad. On Linux, you will need to extract the compressed tar archive (e.g., using a command like<span> </span><code>tar xvf V-REP_PRO_EDU_V3_3_2_64_Linux.tar.gz</code>). Then you need to change directories into the V-REP source directory and run the<span> </span><code>vrep.sh</code><span> </span>shell script.</p>
<p>Once V-REP is open you will want to run one of the scenes below. To run any of them, you first run V-REP, then you click<span> </span><code>File-&gt;Open scene...</code><span> </span>and open one of the ttt files that are linked below. Then click either the<span> </span><i>Play</i><span> </span>button from the top toolbar or click<span> </span><code>Simulation-&gt;Start simulation</code><span> </span>and a GUI should pop up. Clicking the<span> </span><i>Stop</i><span> </span>button or<span> </span><code>Simulation-&gt;Stop simulation</code><span> </span>will close the GUI and stop the simulation.</p>
<p>Most of the scenes feature a simulation of a kinematically-controlled, non-respondable robot.<span> </span><i>Kinematically controlled</i><span> </span>means that all dynamics (inertias, torques, friction, etc.) of the system are neglected. We specify a configuration of the robot and it is instantaneously "teleported" to the new configuration.<span> </span><i>Non-respondable</i><span> </span>means that the links of the robot are not capable of interacting with the world or each other through collisions. In other words, we can put the robot in configurations that result in self-collisions.</p>
<p>The "interactive" scenes allow you to visualize the robot as you change its configuration using sliders. The "CSV" scenes allow animations of a robot based on a trajectory stored in a comma-separated values file, where each line corresponds to a timestep and consists of comma-separated numbers specifying the robot's configuration at that timestep. There are no joint limits in the "CSV" scenes.</p>
<p><a href="http://hades.mech.northwestern.edu/index.php/Writing_a_CSV_File" title="Writing a CSV File"><b>This page has information on writing csv files in Python, MATLAB, and Mathematica.</b></a></p>
<p>The CSV mobile manipulation scene is a partly dynamically-controlled simulation of a respondable<span> </span><a class="external text" href="http://www.youbot-store.com/" rel="nofollow">youBot</a><span> </span>from<span> </span><a class="external text" href="https://www.kuka.com/en-us" rel="nofollow">KUKA</a>.</p>
<dl>
<dd><b>Important note regarding csv file format:</b><span> </span>The example csv files included below for use with the csv scenes assume that periods, not commas, are used as decimal points. So pi is written as 3.14, not as 3,14. If you are using Linux and your region settings are set to a region that uses commas as the decimal separator, one solution, suggested by a Coursera student, is to invoke V-REP using US English settings:</dd>
</dl>
<pre>LC_NUMERIC=en_US.UTF-8 ./vrep.sh
</pre>
<dl>
<dd>Another option, also suggested by a Coursera student, is to open the Linux "System Settings" -&gt; "Language support" -&gt; "Regional Formats" tab. After changing the region to "English (United States)", log out and back in for the change to take effect.</dd>
</dl>
<p>In each scene, there is a single Lua script called a<span> </span><a class="external text" href="http://www.coppeliarobotics.com/helpFiles/en/childScripts.htm" rel="nofollow">non-threaded child script</a>. When the scene is first run, there is a function that is called that sets up the GUI and creates variables that are going to be needed later on in the simulation. Then during every step of the simulation the<span> </span><a class="external text" href="http://www.coppeliarobotics.com/helpFiles/en/mainScript.htm" rel="nofollow">main script</a>, which is part of every V-REP scene, runs an "actuation" function from the child script. This actuation function is responsible for processing all of the changes to the GUI since the last time it was called (buttons clicked, label updates, etc.), and for sending joint commands to the simulated robot. Technically, there is also a "sensing" function in the child script that gets called by the main script, but in each of these scenes, the sensing function is empty. The GUIs are all built with V-REP's<span> </span><a class="external text" href="http://www.coppeliarobotics.com/helpFiles/en/customUIPlugin.htm" rel="nofollow">Qt-based custom UI framework</a>.</p>
<h4><span class="mw-headline" id="Scene_1:_Interactive_UR5">Scene 1: Interactive UR5</span></h4>
<p><span class="mw-headline"><img alt="" height="150" src="./../images/142px-Ur5-img.png" width="142"/></span></p>
<p><b>(This scene had minor updates in August 2018.)</b></p>
<p>This scene helps you visualize a<span> </span><a class="external text" href="https://www.universal-robots.com/products/ur5-robot/" rel="nofollow">UR5 robot</a><span> </span>from<span> </span><a class="external text" href="https://www.universal-robots.com/" rel="nofollow">Universal Robots</a>. The model of the UR5 was created by importing a URDF from the ROS-Industrial<span> </span><a class="external text" href="https://github.com/ros-industrial/universal_robot/tree/indigo-devel/ur_description/urdf" rel="nofollow">ur5_description package</a>. The GUI in this scene features two tabs. One tab lets you drag sliders to modify the joint angles of each joint, and the other tab allows you to specify comma-separated angles for all 6 joints in an editable text box and ask for the SE(3) transformation from the base frame to the end-effector frame. The frames attached to the base and end-effector are persistently displayed (x-axis in red, y-axis in green, z-axis in blue). Note that all angles are specified in radians.</p>
<p>Scene 1 files in the<span> </span><a class="internal" href="http://hades.mech.northwestern.edu./../images/5/5c/V-REP_scenes.zip" title="V-REP scenes.zip">download of all of the demonstration scenes</a>:</p>
<ul>
<li>Scene1_UR5.ttt: the V-REP scene file.</li>
</ul>
<p></p>
<h4><span class="mw-headline" id="Scene_2:_CSV_Animation_UR5">Scene 2: CSV Animation UR5</span></h4>
<p><b>(This scene had minor updates in August 2018.)</b></p>
<p>This scene animates the motion of the UR5 robot based on a csv file representing the trajectory of the robot. Each row of the csv file represents a timestep and each column of the csv file is the joint angle through time for one of the joints (first column is joint 1, last column is joint 6).</p>
<p>Scene 2 files in the<span> </span><a class="internal" href="http://hades.mech.northwestern.edu./../images/5/5c/V-REP_scenes.zip" title="V-REP scenes.zip">download of all of the demonstration scenes</a>:</p>
<ul>
<li>Scene2_UR5_csv.ttt: the V-REP scene file.</li>
<li>Scene2_example.csv: an example input file.</li>
</ul>
<p>See the note above about making sure your language settings are appropriate to properly read csv files in Linux.</p>
<h4><span class="mw-headline" id="Scene_3:_Interactive_youBot">Scene 3: Interactive youBot</span></h4>
<p><span class="mw-headline"><img alt="" height="150" src="./../images/169px-Youbot-fig.png" width="169"/></span></p>
<p><b>(Updated August 2018, to match the frame conventions used in the textbook and in Scene 4, animation of the youBot.)</b></p>
<p>This scene helps you visualize a youBot mobile manipulator from KUKA. The KUKA youBot consists of a mecanum-wheel omnidirectional base and a 5R robot arm. Move the mobile base of the robot and the joints of the robot using sliders, and inspect the SE(3) representation of the resulting end-effector coordinate frame. All angles are represented in radians, and linear distances are represented in meters. The following frames are illustrated: the world frame {s}, a frame fixed to the center of the mobile chassis {b}, a frame fixed at the base of the robot arm {0}, and a frame fixed to the end-effector {e}.</p>
<p>Scene 3 files in the<span> </span><a class="internal" href="http://hades.mech.northwestern.edu./../images/5/5c/V-REP_scenes.zip" title="V-REP scenes.zip">download of all of the demonstration scenes</a>:</p>
<ul>
<li>Scene3_youBot.ttt: the V-REP scene file.</li>
</ul>
<p></p>
<h4><span class="mw-headline" id="Scene_4:_CSV_Animation_youBot">Scene 4: CSV Animation youBot</span></h4>
<p><span class="mw-headline"><img alt="" height="150" src="./../images/211px-Youbot-top-view.png" width="211"/></span></p>
<p><b>(This scene had minor updates in August 2018.)</b></p>
<p>This scene animates the motion of the youBot based on a csv file representing the trajectory of the robot. Each row of the csv file represents a timestep and each column of the csv file is a configuration variable through time. The csv file has either 12 or 13 columns. Columns 1-3 represent the mobile base configuration variables, ordered as (phi, x, y), where phi is the angle of the base and (x, y) is the location of its center. Columns 4-8 represent the five arm joint angles, joint 1 through joint 5. Columns 9-12 represent the wheel angles, where wheel 1 is column 9 and wheel 4 is column 12, and the numbering of the wheels is shown in the figure on the right. Column 13 is optional. If it is present, then 0 means the gripper is open and 1 means the gripper is closed. If there is no column 13, then the gripper is open by default. All angles are specified in radians.</p>
<p>Scene 4 files in the<span> </span><a class="internal" href="http://hades.mech.northwestern.edu./../images/5/5c/V-REP_scenes.zip" title="V-REP scenes.zip">download of all of the demonstration scenes</a>:</p>
<ul>
<li>Scene4_youBot_csv.ttt: the V-REP scene file.</li>
<li>Scene4_example.csv: an example input file.</li>
<li>Scene4_base_motions: this folder has five basic motions of the youBot mobile base, showing the correct wheel motions associated with some basic motions of mobile base. You can check that your wheeled mobile base kinematics (or odometry) are correct by comparing your wheel motions to the wheel motions in these .csv files.
<ul>
<li>yb1.csv: Constant speed spin in place (wheels on the left side and right side of the robot move at opposite speeds).</li>
<li>yb2.csv: Constant speed forward motion (all wheels move at the same speed).</li>
<li>yb3.csv: Constant speed sideways motion (wheels on opposite corners move at the same speed).</li>
<li>yb4.csv: Constant speed diagonal motion (wheels 2 and 4 move at the same speed while wheels 1 and 3 are stationary).</li>
<li>yb5.csv: Constant speed diagonal motion (wheels 1 and 3 move at the same speed while wheels 2 and 4 are stationary).</li>
</ul>
</li>
</ul>
<p>See the note above about making sure your language settings are appropriate to properly read csv files in Linux.</p>
<p></p>
<h4><span class="mw-headline" id="Scene_5:_CSV_Motion_Planning_Kilobot">Scene 5: CSV Motion Planning Kilobot</span></h4>
<p><span class="mw-headline"><img alt="" height="150" src="./../images/212px-Kilobot-img.png" width="212"/></span></p>
<p><b>(This scene had minor updates in August 2018.)</b></p>
<p>This scene allows you to visualize motion planning on an undirected graph using graph-search techniques such as A*. To visualize the planned motion, we are using the<span> </span><a class="external text" href="https://www.kilobotics.com/" rel="nofollow">kilobot</a><span> </span>robot moving in a planar square environment of dimensions -0.5 &lt;= x &lt;= 0.5 and -0.5 &lt;= y &lt;= 0.5. Obstacles are represented as cylinders, and the graph itself is illustrated as blue nodes with yellow edges. The path that the kilobot actually follows is indicated by green edges, and the goal node is in red. See the image to the right.</p>
<p>This scene does not do motion planning. Instead, it displays the output of your motion planner. It expects you to provide the path to a folder with four files, named nodes.csv, edges.csv, path.csv, and obstacles.csv:</p>
<ul>
<li>nodes.csv: If the graph has N nodes, then this file has N rows. Each row is of the form ID,x,y,heuristic-cost-to-go. ID is the unique integer ID number of the node, and these ID numbers should take values 1 through N. x, y are the (x,y) coordinates of the node in the plane. heuristic-cost-to-go is an optimistic approximation of the shortest path from this node to the goal node (e.g., the Euclidean distance to the goal node). This information is useful for A-star search but is not represented in the visualization of the path.</li>
</ul>
<ul>
<li>edges.csv: If the graph has E edges, then this file has E rows. Each row is of the form ID1,ID2,cost. ID1 and ID2 are the node IDs of the nodes connected by the edge. cost is the cost of traversing that edge. This file can be empty if you do not wish to display edges.</li>
</ul>
<ul>
<li>path.csv: This file specifies the solution path in the graph, and it is a single line, of the form ID1,ID2,... The first number is the ID of the first node in the solution path, and the last number is the ID of the last node in the solution path. If there is no solution to the motion planning problem, the path can consist of a single ID number, the ID of the node where the robot starts (and stays).</li>
</ul>
<ul>
<li>obstacles.csv: This file specifies the locations and diameters of the circular obstacles. Each row is x, y, diameter, where (x,y) is the center of the obstacle and diameter is the diameter of the obstacle. This file can be empty if there are no obstacles.</li>
</ul>
<p>Nothing prevents you from providing files with nodes or edges inside obstacles. The path.csv file is the output of a graph search planner. Inputs to the planner could be the obstacles.csv file and a specification of the positions of the start and goal nodes, or it could be the nodes.csv and edges.csv files and a specification of the start and goal nodes, or it could be other information, depending on your planner. But in any case, this scene requires the four files above for the visualization.</p>
<p>Scene 5 files in the<span> </span><a class="internal" href="http://hades.mech.northwestern.edu./../images/5/5c/V-REP_scenes.zip" title="V-REP scenes.zip">download of all of the demonstration scenes</a>:</p>
<ul>
<li>Scene5_motion_planning.ttt: the V-REP scene file.</li>
<li>Scene5_example.zip: a directory containing example input files nodes.csv, edges.csv, path.csv, and obstacles.csv.</li>
</ul>
<p>See the note above about making sure your language settings are appropriate to properly read csv files in Linux.</p>
<p>You may be interested in:</p>
<ul>
<li><a href="http://hades.mech.northwestern.edu/index.php/A*_Graph_Search_Project" title="A* Graph Search Project">A description of an A* search project using this scene.</a></li>
<li><a href="http://hades.mech.northwestern.edu/index.php/Sampling-Based_Planning" title="Sampling-Based Planning">A description of a sampling-based planning project using this scene.</a></li>
</ul>
<p></p>
<h4><span class="mw-headline" id="Scene_6:_CSV_Mobile_Manipulation_youBot">Scene 6: CSV Mobile Manipulation youBot</span></h4>
<p><span class="mw-headline"><img alt="" height="150" src="./../images/230px-Youbot-capstone.png" width="230"/></span></p>
<p><b>(This scene had minor updates in August 2018.)</b></p>
<p><a href="http://hades.mech.northwestern.edu/index.php/Mobile_Manipulation_Capstone" title="Mobile Manipulation Capstone"><b>This page has a description of a capstone mobile manipulation project using this scene, as well as more details regarding the operation of the physics engines, the kinematics of the youBot, properties of the end-effector (gripper), and properties of the cube.</b></a></p>
<p>This scene has a youBot mobile manipulator and a cube. The youBot is expected to pick up the cube and put it down at a goal location ("pick and place"). This scene animates a user-specified csv file specifying the motion of the youBot, much as in Scene 4, except now the gripper interacts dynamically with the cube. Each row of the csv file has 13 variables: 3 for the chassis configuration (phi, x, y), 5 for the arm joint angles, 4 for the wheel angles (where the wheels are numbered as shown in Scene 4), and 1 for the gripper state (0 = open, 1 = closed). Unlike previous csv visualization scenes where V-REP simply makes a movie of the configurations, and there is no notion of the simulated time between successive lines in the csv file, this V-REP scene is performing a dynamic simulation, so the time between each line is important to determine the dynamic behavior.<span> </span><b>The simulated time between each line of the csv file is 0.01 seconds (10 milliseconds).</b></p>
<p>The gripper of the youBot and the cube are dynamically modeled to simulate practical pick-and-place. In other words, if the gripper does not close on the block properly, it may slide away, and if you open the gripper when it is holding a block, the block will fall to the floor. The interaction between the gripper and the block is governed by a "physics engine," which approximately accounts for friction, mass, inertial, and other properties. The default physics engine for this scene is ODE.</p>
<p>Gripper opening and closing may take up to approximately 0.625 seconds. Assume, for example, that the first 100 lines of your csv file have the gripper state as 0 (open). Then, on line 101, you change the gripper state to 1 (closed). This transition from 0 to 1 initiates the closing action, but the closing may not actually complete for 0.625 seconds. So you should keep the gripper state at 1 for at least 63 consecutive lines of your csv file to ensure that the gripper closes all the way. Similarly, it may take up to 0.625 seconds for the gripper to open, so you should keep the gripper state at 0 for at least 63 consecutive lines to ensure that the gripper opens all the way. Gripper opening/closing actually terminates when a force threshold is reached on the fingers or the fingers have completed the motion.</p>
<p>You can set the initial and goal configurations of the cube with a GUI inside the scene, but the default initial configuration is<span> </span><img alt="(x,y,\theta) = (1~\text{m}, 0~\text{m}, 0~\text{rad})" class="tex" src="http://hades.mech.northwestern.edu./../images/math/c/e/1/ce1884669139db0006e068c0c3f7bff0.png"/><span> </span>and the goal configuration is at<span> </span><img alt="(x,y,\theta) = (0~\text{m},-1~\text{m},-\pi/2~\text{rad})" class="tex" src="http://hades.mech.northwestern.edu./../images/math/e/8/3/e83e7452696f11cc5e88e3cb32ba98f5.png"/>.</p>
<p>Scene 6 files in the<span> </span><a class="internal" href="http://hades.mech.northwestern.edu./../images/5/5c/V-REP_scenes.zip" title="V-REP scenes.zip">download of all of the demonstration scenes</a>:</p>
<ul>
<li>Scene6_youbot_cube.ttt: the V-REP scene file.</li>
<li>Scene6_example.csv: an example input file solving the task when the cube's initial and goal configurations are the defaults.</li>
</ul>
<p>See the note above about making sure your language settings are appropriate to properly read csv files in Linux.</p>
<p></p>
<h4><span class="mw-headline" id="Scene_7:_CSV_Animation_MTB">Scene 7: CSV Animation MTB</span></h4>
<div class="floatright"><a class="image" href="http://hades.mech.northwestern.edu/index.php/File:MTB-img.png"><img alt="MTB-img.png" height="150" src="http://hades.mech.northwestern.edu./../images/thumb/7/7c/MTB-img.png/171px-MTB-img.png" width="171"/></a></div>
<p><b>(This scene had minor updates in August 2018.)</b></p>
<p>This scene simulates a RRPR robot. It animates a csv file containing a trajectory of joint angles. Each column of the csv file is the joint angle/length through time for one of the joints (in the order of RRPR). A single row of the csv file represents a complete configuration of the robot at a particular time. The prismatic joint (P) has the joint limit range [0, 0.2]. The assumed time step between rows is equal to the time step that V-REP uses for simulation; the default is 0.05 seconds.</p>
<p>Scene 7 files in the<span> </span><a class="internal" href="http://hades.mech.northwestern.edu./../images/5/5c/V-REP_scenes.zip" title="V-REP scenes.zip">download of all of the demonstration scenes</a>:</p>
<ul>
<li>Scene7_MTB_csv.ttt: the V-REP scene file.</li>
<li>Scene7_example.csv: An example input file.</li>
</ul>
<p>See the note above about making sure your language settings are appropriate to properly read csv files in Linux.</p>
<p></p>
<h4><span class="mw-headline" id="Scene_8:_CSV_youBot_End-Effector_Animation">Scene 8: CSV youBot End-Effector Animation</span></h4>
<div class="floatright"><a class="image" href="http://hades.mech.northwestern.edu/index.php/File:Capstone-gripper.png"><img alt="Capstone-gripper.png" height="150" src="http://hades.mech.northwestern.edu./../images/thumb/7/7a/Capstone-gripper.png/274px-Capstone-gripper.png" width="274"/></a></div>
<p><b>(This scene had minor updates in August 2018.)</b></p>
<p><a href="http://hades.mech.northwestern.edu/index.php/Mobile_Manipulation_Capstone" title="Mobile Manipulation Capstone"><b>This page has a description of a capstone mobile manipulation project (specifically Milestone 2) using this scene.</b></a></p>
<p>This scene is used in<span> </span><a href="http://hades.mech.northwestern.edu/index.php/Mobile_Manipulation_Capstone" title="Mobile Manipulation Capstone">Milestone 2 of the capstone mobile manipulation project</a>. It animates the motion of the gripper of the youBot only (the rest of the youBot is not shown), and this scene is used to validate the planned motion of the gripper. Each line of the csv file has 13 comma-separated values: 12 from the top three rows of the transformation matrix<span> </span><span class="texhtml" dir="ltr"><i>T</i><sub><i>s</i><i>e</i></sub></span><span> </span>representing the configuration of the end-effector frame {e} relative to the space frame {s}, and 1 representing the gripper state (0 = open, 1 = closed). In other words, one line of the csv file is</p>
<pre>r11, r12, r13, r21, r22, r23, r31, r32, r33, px, py, pz, gripper state
</pre>
<p>where the transformation matrix<span> </span><span class="texhtml" dir="ltr"><i>T</i><sub><i>s</i><i>e</i></sub></span><span> </span>is</p>
<p><img alt=" T_{se} = \left[\begin{array}{cccc} r_{11} &amp; r_{12} &amp; r_{13} &amp; p_x \\ r_{21} &amp; r_{22} &amp; r_{23} &amp; p_y \\ r_{31} &amp; r_{32} &amp; r_{33} &amp; p_z \\ 0 &amp; 0 &amp; 0 &amp; 1 \end{array}\right]. " class="tex" src="http://hades.mech.northwestern.edu./../images/math/8/8/b/88bcc8abc721e889302a93964b8f536e.png"/></p>
<p>V-REP will animate the motion of the end-effector based on this csv file. It will also show the cube that is to be manipulated by the gripper, at its initial and goal configurations.</p>
<pre>The gripper does not dynamically interact with the cube, however.  
</pre>
<p><a class="external text" href="https://youtu.be/8d_cYwV58lI" rel="nofollow"><b>This video shows an example of an animation created by this scene</b></a>. In this video, the gripper opens and closes instantly, but this scene will show the gripper taking up to 0.625 seconds to open and close, just as in Scene 6.</p>
<p>Scene 8 files in the<span> </span><a class="internal" href="http://hades.mech.northwestern.edu./../images/5/5c/V-REP_scenes.zip" title="V-REP scenes.zip">download of all of the demonstration scenes</a>:</p>
<ul>
<li>Scene8_gripper_csv.ttt: the V-REP scene file.</li>
<li>Scene8_example.csv: an example input file solving the task when the cube's initial and goal configurations are the defaults.</li>
</ul>
<p>See the note above about making sure your language settings are appropriate to properly read csv files in Linux.</p>
<p></p>
<h4><span class="mw-headline" id="Switching_Between_Scenes">Switching Between Scenes</span></h4>
<p>Press the<span> </span><i>Stop</i><span> </span>button to stop the simulation of the current scene, then choose<span> </span><code>File&gt;Open scene...</code>. You can also use<span> </span><code>File&gt;Open recent scene</code><span> </span>to switch to a scene you previously loaded. Then you press the<span> </span><i>Play</i><span> </span>button to run the scene. Alternatively, stop the simulation and then press the<span> </span><code>Scenes</code>button in the top toolbar to see which scenes are currently open and select one to be in the foreground. The scene selector toolbar button may also be used to switch between opened scenes. Read more<span> </span><a class="external text" href="http://www.coppeliarobotics.com/helpFiles/en/scenes.htm" rel="nofollow">here</a>.</p>
<h4><span class="mw-headline" id="Recording_a_Movie">Recording a Movie</span></h4>
<p>V-REP comes with a video recorder. Go to<span> </span><code>Tools&gt;Video recorder</code>. You may need to stop the current scene to be able to configure the video recorder. You can find more information on recording V-REP movies here:<span> </span><a class="external free" href="http://www.coppeliarobotics.com/helpFiles/en/aviRecorder.htm" rel="nofollow">http://www.coppeliarobotics.com/helpFiles/en/aviRecorder.htm</a>.</p>
<p>A simpler option may be to just use your computer's screen recording software. On the Mac, you can use Quicktime. On Linux, you can use<span> </span><a class="external text" href="http://www.maartenbaert.be/simplescreenrecorder/" rel="nofollow">SimpleScreenRecorder</a><span> </span>or<span> </span><a class="external text" href="http://recordmydesktop.sourceforge.net/about.php" rel="nofollow">recordMyDesktop</a>. On Windows, you can use<span> </span><a class="external text" href="http://icecreamapps.com/Screen-Recorder/" rel="nofollow">Screen Recorder</a>. Or you may have your own solution.</p>
<h4><span class="mw-headline" id="Exploring_Other_Scenes">Exploring Other Scenes</span></h4>
<p>You are encouraged to explore some of the (quite impressive) scenes that come pre-loaded with V-REP. You can find these scenes in the<span> </span><code>scenes</code>directory under the V-REP directory. Running and studying these can be a great way to learn more about the V-REP capabilities and to understand how to put together more complex scenes.</p>
<h4><span class="mw-headline" id="Useful_Resources">Useful Resources</span></h4>
<ul>
<li><a class="external text" href="http://www.coppeliarobotics.com/resources.html" rel="nofollow">V-REP User Manual and Other Resources</a></li>
<li><a class="external text" href="http://www.coppeliarobotics.com/assets/v-repoverviewpresentation.pdf" rel="nofollow">V-REP Overview Presentation</a></li>
<li><a class="external text" href="http://www.coppeliarobotics.com/videos.html" rel="nofollow">V-REP Videos Page</a></li>
<li><a class="external text" href="http://www.coppeliarobotics.com/helpFiles/en/tutorials.htm" rel="nofollow">V-REP Tutorial Series</a></li>
<li><a class="external text" href="http://www.coppeliarobotics.com/features.html" rel="nofollow">Overview of V-REP Features</a></li>
<li><a class="external text" href="http://www.coppeliarobotics.com/helpFiles/en/apiOverview.htm" rel="nofollow">V-REP API Documentation</a><span> </span>These are all functions that can either be called directly from a custom C/C++ plugin or through a Lua embedded script.</li>
<li><a class="external text" href="http://www.coppeliarobotics.com/helpFiles/en/remoteApiOverview.htm" rel="nofollow">Remote API Documentation</a><span> </span>The Remote API is how V-REP enables scripts and programs written in other languages (MATLAB, Java, Python, etc.) to interact with a V-REP simulation</li>
</ul><br />Get started << <a href='Get started.html'>Previous</a> <a href='CAX.html'>Next</a> >> CAX</div></section></div></body></html>